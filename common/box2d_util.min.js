function to_meter(e){return e/pixels_per_meter}function to_pixel(e){return e*pixels_per_meter}function deg(e){return e/Math.PI*180}function rad(e){return e/180*Math.PI}function create_box2d(e,t,o,n,i,r){void 0===n&&(n=60),void 0===i&&(i=8),void 0===r&&(r=3);var d=new(box2d_module=e).b2Vec2(to_meter(t),to_meter(o));box2d_world=new box2d_module.b2World(d),box2d_time_step=1/n,box2d_pos_iterations=i,box2d_vel_iterations=r}function enable_box2d(e,t,o,n,i,r,d,_,b){void 0===r&&(r=!0),void 0===d&&(d=1),void 0===_&&(_=.5),void 0===b&&(b=.25);var y={body:null,get_x:function(){return to_pixel(y.body.GetPosition().get_x())},get_y:function(){return to_pixel(y.body.GetPosition().get_y())},set_x:function(e){var t=y.body.GetPosition();return t.set_x(to_meter(e)),y.body.SetTransform(t,y.body.GetAngle()),e},set_y:function(e){var t=y.body.GetPosition();return t.set_y(to_meter(e)),y.body.SetTransform(t,y.body.GetAngle()),e},get_velocity_x:function(){return to_pixel(y.body.GetLinearVelocity().get_x())},get_velocity_y:function(){return to_pixel(y.body.GetLinearVelocity().get_y())},set_velocity_x:function(e){var t=y.body.GetLinearVelocity();return t.set_x(to_meter(e)),y.body.SetLinearVelocity(t),e},set_velocity_y:function(e){var t=y.body.GetLinearVelocity();return t.set_y(to_meter(e)),y.body.SetLinearVelocity(t),e},set_collision:function(e){return y.body.GetFixtureList().SetSensor(!e),e},get_angle:function(e){return deg(y.body.GetAngle())},set_angle:function(e){return y.body.SetTransform(y.body.GetPosition(),rad(e)),e},update:function(){var t=y.body.GetPosition(),o=y.body.GetAngle();e.x=to_pixel(t.get_x()),e.y=to_pixel(t.get_y()),e.angle=deg(o)},destroy:function(){box2d_world.DestroyBody(y.body)}};e.anchor.set(.5),e.width=n,e.height=i;var u=new box2d_module.b2BodyDef;r&&u.set_type(box2d_module.b2_dynamicBody),u.get_position().Set(to_meter(t),to_meter(o)),y.body=box2d_world.CreateBody(u);var x=new box2d_module.b2PolygonShape;x.SetAsBox(to_meter(n/2),to_meter(i/2));var s=new box2d_module.b2FixtureDef;s.set_shape(x),s.set_density(d),s.set_friction(_),s.set_restitution(b),y.body.CreateFixture(s),e.box2d_body=y,e.box2d_body.update(),e.update=function(){e.box2d_body.update()}}function update_box2d(){box2d_world.Step(box2d_time_step,box2d_vel_iterations,box2d_pos_iterations)}var box2d_time_step,box2d_vel_iterations,box2d_pos_iterations,box2d_world,pixels_per_meter=100,box2d_module;
